---
layout: default
title: Home
---

<div id="source-category-nav" style="display:none;">
  <div class="cat-full-width-scroll">
    <div class="cat-inner-scroll">
      {% assign all_posts = site.pages | where: "is_post", true %}
      <button class="cat-btn active" onclick="filterCategory('all', this)">All Posts <span>({{ all_posts.size }})</span></button>

      {% assign my_cats = "Cyber Security,Networking,AI,Linux,Privacy,Cloud Computing,Guide" | split: "," %}
      {% for cat in my_cats %}
        {% assign count = 0 %}
        {% for p in all_posts %}{% if p.categories contains cat %}{% assign count = count | plus: 1 %}{% endif %}{% endfor %}
        {% if count > 0 %}
          <button class="cat-btn" onclick="filterCategory('{{ cat }}', this)">{{ cat }} <span>({{ count }})</span></button>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<div class="post-container-fixed">
  <div id="post-wrapper">
    {% assign sorted_posts = all_posts | sort: "date" | reverse %}
    {% for p in sorted_posts %}
      <div class="horizontal-post-card js-post" data-categories="{{ p.categories | join: ',' }}">
        <div class="post-img">
          <img src="{{ p.image | default: 'https://picsum.photos/400/300' }}" alt="{{ p.title }}">
        </div>
        <div class="post-info">
          <h2><a href="{{ p.url | relative_url }}">{{ p.title }}</a></h2>
          <p>{{ p.description | default: p.excerpt | strip_html | truncate: 100 }}</p>
          <div class="post-footer">
            <span class="share-icon">Share</span>
            <a href="{{ p.url | relative_url }}" class="read-link">Read More â†’</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  <div id="pagination-nav" class="pagination-center"></div>
</div>

<style>
  /* CATEGORY SCROLL FIX (Grid ke bahar) */
  .cat-full-width-scroll {
    width: 100%;
    background: #fff;
    border-bottom: 1px solid #e5e7eb;
    padding: 15px 0;
    margin-bottom: 20px;
  }
  .cat-inner-scroll {
    display: block !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
    padding: 0 5%;
    scrollbar-width: none;
    -webkit-overflow-scrolling: touch;
  }
  .cat-inner-scroll::-webkit-scrollbar { display: none; }

  .cat-btn {
    display: inline-block !important;
    padding: 8px 20px;
    margin-right: 10px;
    background: #f3f4f6;
    border: 1px solid #ddd;
    border-radius: 50px;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
  }
  .cat-btn.active { background: #166534; color: #fff; border-color: #166534; }

  /* POST CARDS STYLE */
  .horizontal-post-card { 
    display: none; background: #fff; border: 1px solid #eee; border-radius: 12px; 
    margin-bottom: 20px; overflow: hidden; height: 180px; display: flex;
  }
  .post-img { width: 30%; min-width: 120px; }
  .post-img img { width: 100%; height: 100%; object-fit: cover; }
  .post-info { width: 70%; padding: 15px; display: flex; flex-direction: column; justify-content: space-between; }
  .post-info h2 { font-size: 18px; line-height: 1.3; }
  .post-info h2 a { text-decoration: none; color: #111; }
  .post-footer { display: flex; justify-content: space-between; align-items: center; }
  .read-link { color: #166534; font-weight: 700; text-decoration: none; font-size: 13px; }
  
  .pagination-center { text-align: center; padding: 20px 0; }
  .page-btn { padding: 8px 16px; margin: 0 5px; border: 1px solid #ddd; background: #fff; cursor: pointer; border-radius: 4px; }
  .page-btn.active { background: #166534; color: #fff; }

  @media (max-width: 768px) {
    .horizontal-post-card { flex-direction: column; height: auto; }
    .post-img, .post-info { width: 100%; }
    .post-img { height: 160px; }
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // 1. Move Category Section to the Top (Outside Grid)
  const source = document.getElementById('source-category-nav');
  const target = document.getElementById('index-category-nav');
  if(source && target) {
    target.innerHTML = source.innerHTML;
    source.remove();
  }

  // 2. Pagination Logic
  const postsPerPage = 6;
  const posts = Array.from(document.querySelectorAll('.js-post'));
  const nav = document.getElementById('pagination-nav');

  function goToPage(num) {
    const start = (num - 1) * postsPerPage;
    const end = start + postsPerPage;
    posts.forEach((p, i) => p.style.display = (i >= start && i < num * postsPerPage) ? 'flex' : 'none');
    
    // Update Buttons
    nav.innerHTML = '';
    for(let i=1; i <= Math.ceil(posts.length/postsPerPage); i++) {
      const btn = document.createElement('button');
      btn.innerText = i;
      btn.className = `page-btn ${i===num ? 'active' : ''}`;
      btn.onclick = () => { goToPage(i); window.scrollTo({top:0, behavior:'smooth'}); };
      nav.appendChild(btn);
    }
  }
  if(posts.length > 0) goToPage(1);

  // 3. Filter Function
  window.filterCategory = function(cat, btn) {
    document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    
    if(cat === 'all') {
      posts.forEach(p => p.classList.remove('hidden'));
      goToPage(1);
      nav.style.display = 'block';
    } else {
      posts.forEach(p => {
        const pCats = p.getAttribute('data-categories').split(',');
        p.style.display = pCats.includes(cat) ? 'flex' : 'none';
      });
      nav.style.display = 'none';
    }
  }
});
</script>
