---
layout: default
title: Home
---

<div class="category-outer-container">
  <div class="category-scroll-box">
    {% assign all_posts = site.pages | where: "is_post", true %}
    
    <button class="cat-btn active" onclick="filterCategory('all', this)">
      All Posts <span>({{ all_posts.size }})</span>
    </button>

    {% assign my_cats = "Cyber Security,Networking,AI,Linux,Privacy,Cloud Computing,Guide" | split: "," %}

    {% for cat in my_cats %}
      {% assign count = 0 %}
      {% for p in all_posts %}
        {% if p.categories contains cat %}
          {% assign count = count | plus: 1 %}
        {% endif %}
      {% endfor %}
      
      {% if count > 0 %}
      <button class="cat-btn" onclick="filterCategory('{{ cat }}', this)">
        {{ cat }} <span>({{ count }})</span>
      </button>
      {% endif %}
    {% endfor %}
  </div>
</div>

<div class="home-container">
  <div class="post-list" id="post-wrapper">
    {% assign sorted_posts = all_posts | sort: "date" | reverse %}
    {% for p in sorted_posts %}
      <div class="horizontal-card js-post" data-categories="{{ p.categories | join: ',' }}">
        
        <div class="card-left">
          <img src="{{ p.image | default: 'https://picsum.photos/400/300' }}" alt="{{ p.title }}">
        </div>

        <div class="card-right">
          <div class="content-top">
            <div class="mini-tags">
              {% for cat in p.categories %}
                <span class="tag">{{ cat }}</span>
              {% endfor %}
            </div>
            <h2><a href="{{ p.url | relative_url }}">{{ p.title }}</a></h2>
            <p>{{ p.description | default: p.excerpt | strip_html | truncate: 120 }}</p>
          </div>
          
          <div class="content-bottom">
            <button class="share-btn">Share</button>
            <a href="{{ p.url | relative_url }}" class="read-btn">Read More â†’</a>
          </div>
        </div>

      </div>
    {% endfor %}
  </div>

  <div class="pagination-wrapper" id="pagination-nav"></div>
</div>

<style>
  /* --- CATEGORY SECTION FIX --- */
  .category-outer-container {
    width: 100%;
    background: #fff;
    padding: 15px 0;
    border-bottom: 1px solid #eee;
    display: block; /* Flex hata diya taaki layout na hile */
  }

  .category-scroll-box {
    width: 100%;
    overflow-x: auto; /* Scroll on */
    overflow-y: hidden;
    white-space: nowrap; /* SABSE ZAROORI: Buttons ko line se bahar nahi jane dega */
    padding: 5px 20px;
    scrollbar-width: none;
    -webkit-overflow-scrolling: touch;
  }

  .category-scroll-box::-webkit-scrollbar { display: none; }

  .cat-btn {
    display: inline-block; /* Buttons ko line me rakhega */
    padding: 8px 18px;
    margin-right: 8px;
    background: #f3f4f6;
    border: 1px solid #e5e7eb;
    border-radius: 50px;
    font-size: 14px;
    font-weight: 700;
    color: #4b5563;
    cursor: pointer;
    transition: 0.3s;
  }

  .cat-btn span { font-size: 11px; opacity: 0.6; }
  .cat-btn.active { background: #166534; color: #fff; border-color: #166534; }
  .cat-btn.active span { opacity: 1; }

  /* --- POST CARDS --- */
  .home-container { max-width: 900px; margin: 30px auto; padding: 0 5%; }
  
  .horizontal-card { 
    display: none; 
    background: #fff; 
    border: 1px solid #eee; 
    border-radius: 12px; 
    overflow: hidden; 
    margin-bottom: 25px; 
    height: 200px; 
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
  }

  .card-left { width: 35%; min-width: 150px; height: 100%; }
  .card-left img { width: 100%; height: 100%; object-fit: cover; }
  .card-right { width: 65%; padding: 15px 20px; display: flex; flex-direction: column; justify-content: space-between; }
  
  .mini-tags { display: flex; gap: 5px; margin-bottom: 5px; }
  .tag { font-size: 10px; font-weight: 800; background: #f0fdf4; color: #166534; padding: 2px 8px; border-radius: 4px; text-transform: uppercase; }
  
  .content-top h2 { font-size: 18px; margin-bottom: 5px; line-height: 1.3; }
  .content-top h2 a { text-decoration: none; color: #111; font-weight: 800; }
  .content-top p { font-size: 13px; color: #555; }
  
  .content-bottom { display: flex; justify-content: space-between; align-items: center; }
  .share-btn { font-size: 12px; font-weight: 700; color: #666; background: #f3f4f6; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; }
  .read-btn { font-size: 12px; font-weight: 700; color: #166534; text-decoration: none; border: 1px solid #166534; padding: 6px 12px; border-radius: 6px; }

  /* --- PAGINATION --- */
  .pagination-wrapper { text-align: center; margin-top: 30px; }
  .page-num { padding: 8px 16px; background: #fff; border: 1px solid #ddd; border-radius: 6px; margin: 0 4px; cursor: pointer; font-weight: 700; }
  .page-num.active { background: #166534; color: #fff; }

  /* RESPONSIVE */
  @media (max-width: 650px) {
    .horizontal-card { flex-direction: column; height: auto; display: none; }
    .card-left, .card-right { width: 100%; }
    .card-left { height: 180px; }
  }
</style>

<script>
  let showPageReference;

  document.addEventListener("DOMContentLoaded", function() {
    const postsPerPage = 2; 
    const allPosts = document.querySelectorAll('.js-post');
    const paginationNav = document.getElementById('pagination-nav');
    
    function showPage(page) {
      const start = (page - 1) * postsPerPage;
      const end = start + postsPerPage;
      allPosts.forEach((post, index) => {
        post.style.display = (index >= start && index < end) ? 'flex' : 'none';
      });
      updatePaginationButtons(page);
    }

    showPageReference = showPage;

    function updatePaginationButtons(activePage) {
      const totalPages = Math.ceil(allPosts.length / postsPerPage);
      if (!paginationNav) return;
      paginationNav.innerHTML = '';
      if (totalPages <= 1) return;

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement('button');
        btn.innerText = i;
        btn.className = 'page-num' + (i === activePage ? ' active' : '');
        btn.onclick = () => { showPage(i); window.scrollTo({top: 0, behavior: 'smooth'}); };
        paginationNav.appendChild(btn);
      }
    }

    if(allPosts.length > 0) showPage(1);
  });

  function filterCategory(category, btn) {
    document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const allPosts = document.querySelectorAll('.js-post');
    const paginationNav = document.getElementById('pagination-nav');

    if (category === 'all') {
      showPageReference(1);
      if (paginationNav) paginationNav.style.display = 'block';
    } else {
      allPosts.forEach(post => {
        const cats = post.getAttribute('data-categories').split(',');
        post.style.display = cats.includes(category) ? 'flex' : 'none';
      });
      if (paginationNav) paginationNav.style.display = 'none';
    }
  }
</script>
