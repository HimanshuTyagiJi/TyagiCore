---
layout: default
title: Home
---

<div class="home-container">
  
  {% assign all_articles = site.pages | where: "is_post", true | sort: "title" %}

  <div class="post-list" id="post-wrapper">
    {% for p in all_articles %}
      <div class="horizontal-card js-post">
        
        <div class="card-left">
          {% if p.image %}
            <img src="{{ p.image | relative_url }}" alt="{{ p.title }}">
          {% else %}
            <img src="https://picsum.photos/400/300" alt="default">
          {% endif %}
        </div>

        <div class="card-right">
          <div class="content-top">
            <h2><a href="{{ p.url | relative_url }}">{{ p.title }}</a></h2>
            <p>{{ p.description | default: p.excerpt | strip_html | truncate: 140 }}</p>
          </div>

          <div class="content-bottom">
            <a href="https://twitter.com/intent/tweet?text={{ p.title | uri_escape }}&url={{ site.url }}{{ site.baseurl }}{{ p.url }}" target="_blank" class="share-btn">Share</a>
            <a href="{{ p.url | relative_url }}" class="read-btn">Read More â†’</a>
          </div>
        </div>

      </div>
    {% endfor %}
  </div>

  <div class="pagination-wrapper" id="pagination-nav"></div>

</div>

<style>
  .home-container { max-width: 900px; margin: 40px auto; padding: 0 5%; }
  
  /* IMPORTANT: display:none JS handle karega, lekin default list ke liye flex hi rahega */
  .horizontal-card {
    display: none; 
    background: #fff;
    border: 1px solid #eee;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 25px;
    transition: 0.3s;
    height: 200px;
  }

  .horizontal-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
  .card-left { width: 35%; min-width: 200px; }
  .card-left img { width: 100%; height: 100%; object-fit: cover; }
  .card-right { width: 65%; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; }
  .content-top h2 { font-size: 20px; margin-bottom: 10px; }
  .content-top h2 a { text-decoration: none; color: #111; font-weight: 800; }
  .content-top p { font-size: 14px; color: #555; line-height: 1.5; }
  .content-bottom { display: flex; justify-content: space-between; align-items: center; }
  .share-btn { font-size: 13px; font-weight: bold; color: #666; text-decoration: none; background: #f0f0f0; padding: 5px 12px; border-radius: 4px; }
  .read-btn { font-size: 13px; font-weight: bold; color: #166534; text-decoration: none; border: 1px solid #166534; padding: 5px 12px; border-radius: 4px; }
  .read-btn:hover { background: #166534; color: #fff; }
  .pagination-wrapper { text-align: center; margin-top: 30px; }
  .page-num { padding: 8px 16px; background: #eee; border-radius: 6px; margin: 0 5px; cursor: pointer; font-weight: bold; border: none; }
  .page-num.active { background: #166534; color: #fff; }

  @media (max-width: 600px) {
    .horizontal-card { flex-direction: column; height: auto; }
    .card-left, .card-right { width: 100%; }
    .card-left { height: 180px; }
  }
</style>

<script>
  // DOM load hone ka wait karein
  document.addEventListener("DOMContentLoaded", function() {
    const postsPerPage = 2;
    const allPosts = document.querySelectorAll('.js-post');
    const paginationNav = document.getElementById('pagination-nav');
    const wrapper = document.getElementById('post-wrapper');
    
    function showPage(page) {
      const start = (page - 1) * postsPerPage;
      const end = start + postsPerPage;

      allPosts.forEach((post, index) => {
        if (index >= start && index < end) {
          post.style.display = 'flex';
        } else {
          post.style.display = 'none';
        }
      });
      updatePaginationButtons(page);
    }

    function updatePaginationButtons(activePage) {
      const totalPages = Math.ceil(allPosts.length / postsPerPage);
      if (!paginationNav) return;
      paginationNav.innerHTML = '';
      if (totalPages <= 1) return;

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement('button');
        btn.innerText = i;
        btn.classList.add('page-num');
        if (i === activePage) btn.classList.add('active');
        btn.onclick = () => { showPage(i); window.scrollTo({ top: 0, behavior: 'smooth' }); };
        paginationNav.appendChild(btn);
      }
    }

    if(allPosts.length > 0) {
      showPage(1);
    } else {
      wrapper.innerHTML = "<p style='text-align:center;'>Bhai, koi post nahi mili. Check Front Matter!</p>";
    }
  });
</script>
